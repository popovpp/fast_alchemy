# Мини фреймворк (miwokr - миворк) fast_alchemy
Миворк fast_alchemy предназначен для разработки бэкенда web-приложений.
Миворк построен на базе FastApi + SQLAlchemy + Pydanyic. В качестве web-сервера использован ASGI-сервер uvicorn. Имеет сервисориентированную (компонентную) архитектуру, в которой компоненты связаны только общей СУБД. Для сохранения независимости компонетов (кроме СУБД) друг от друга необходимо соблюсти следующие архитектурные требования:
- каждый компонент имеет свои модели и свои таблицы в БД;
- общие абстрактные классы помещать в компонент `app` и потом наследовать их в конкретных реализациях в компонентах;
- обмен данными между компонентами должен осуществляться посредством вызова методов API.<br>
Миворк содержит в себе готовыми (из коробки):
 - единый конфигурационный модуль `app.app.config`, содержащий параметры подключения к выбранной СУБД и некоторые другие общие параметры;
 - модуль абстрактного интерфейса CRUD `app.app.actions`, реализующий интерфейс доступа к данным, не зависящий от выбранной СУБД;
 - сервис `accounts` - аккаунты пользователей: CRUD + авторизация по логину и паролю с выдачей jwt-токена доступа и refresh jwt-токена;
 - настройки для режима `dev`;
 - сконфигурирована к использованию СУБД PostgreSQL.

## Запуск
Порядок запуска миворка следующий:
 - склонировать репозиторий:
 `git clone https://github.com/popovpp/fast_alchemy.git`
 - перейти в корень проекта:
 `cd fast_alchemy`
 - запустить команду:
 `docker-compose buld`
 - применить имеющиеся миграции:
 `docker-compose run web1 poetry run alembic upgrade head`
 - создать суперпользователя:
 `docker-compose run web1 poetry run python createsuperuser.py`,
 при этом необходимо ввести в консоли email и пароль для суперпользователя,
 успешное создание суперпользователя сопровождается консольным выводом
 `Superuser was creaed.
  {'id': UUID('1b4cad10-f646-41ae-87fd-ae0d9808ce8a'), 'email': 'admin@admin.com'}`<br>
При успешном выполнении всех описанных выще команд openapi спецификация сервиса `accounts` будет доступна по адресу http://0.0.0.0:8001/docs 
Миворк готов к работе в режиме dev.

## Создание нового компонента
...

## Замена СУБД
...

## Стратегия разделения на микросервисы
...
